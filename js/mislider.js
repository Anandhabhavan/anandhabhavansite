!function(e,i,t,s,n){"use strict";var a=function(t,n){var a=this;function r(e){var i=-(a.slideWidth*e*1),t=i;return"center"===a.options.slidePosition?t=i+s.floor(a.slidesOnStage/2)*a.slideWidth:"right"===a.options.slidePosition&&(t=i+(a.slidesOnStage-1)*a.slideWidth),t}function d(e,i){var t=e.children().first().outerHeight(),s=0;return t>a.stageHeight&&(s=(a.stageHeight-t)/2),e.data(i,s),s}function o(e){return e=(e%a.slidesLengthOrig+a.slidesLengthOrig)%a.slidesLengthOrig}return a.optionsInit={speed:700,pause:4e3,increment:1,stageHeight:!1,slidesOnStage:1,slidesContinuous:!0,slidePosition:"left",slideStart:"beg",slideWidth:!1,slideScaling:100,offsetV:0,centerV:!1,slideClickable:!0,navList:!0,navButtons:!0,navButtonsShow:!1,navButtonsOpacity:.5,randomize:!1,slidesLoaded:!1,beforeTrans:!1,afterTrans:!1,classStage:"mis-stage",classSlider:"mis-slider",classSlide:"mis-slide",classNavButtons:"mis-nav-buttons",classNavList:"mis-nav-list",selectorSlider:"ol",selectorSlide:"li"},a.options={},a.stage=!1,a.slider=!1,a.slides=!1,a.navButtons=!1,a.prev=!1,a.next=!1,a.navList=!1,a.navListItems=!1,a.slideCurrent=!1,a.animatedElements=e(),a.stageWidth=0,a.stageHeight=0,a.sliderWidth=0,a.slideWidth=0,a.slideWidthCurrent=0,a.slideScaling=a.optionsInit.slideScaling,a.scalingWidth=0,a.scalingMargin=0,a.offsetV=a.optionsInit.offsetV,a.slidesLengthOrig=0,a.slidesLength=0,a.indexCurrent=0,a.indexFirst=0,a.indexLast=0,a.increment=a.optionsInit.increment,a.slidesOnStage=a.optionsInit.slidesOnStage,a.imagesLoaded=!0,a.speed=a.optionsInit.speed,a.navButtonsOpacity=a.optionsInit.navButtonsOpacity,a.navButtonsFade=!1,a.slidesContinuous=a.optionsInit.slidesContinuous,a.pause=a.optionsInit.pause,a.slideClickable=a.optionsInit.slideClickable,a.timer=!1,a.resizeTimer=!1,a.after=!1,a.classSlideClone="mis-clone",a.classSlideContainer="mis-container",a.classCurrent="mis-current",a.classPrev="mis-prev",a.classNext="mis-next",a.init=function(t,n){return a.options=e.extend({},a.optionsInit,n),a.stage=e(t),a.stage.fadeTo(0,0),a.slider=a.stage.children(a.options.selectorSlider).first(),a.slides=a.slider.children(a.options.selectorSlide),a.slidesLengthOrig=a.slides.length,a.animatedElements=a.animatedElements.add(a.slider).add(a.slides),"beg"===String(a.options.slideStart)?a.indexCurrent=0:"mid"===String(a.options.slideStart)?a.indexCurrent=s.ceil(a.slidesLengthOrig/2)-1:"end"===String(a.options.slideStart)?a.indexCurrent=a.slidesLengthOrig-1:e.isNumeric(a.options.slideStart)&&parseInt(a.options.slideStart,10)<=a.slidesLengthOrig&&parseInt(a.options.slideStart,10)>0?a.indexCurrent=parseInt(a.options.slideStart,10)-1:a.indexCurrent=0,a.options.randomize&&a.randomize(),a.stage.addClass(a.options.classStage),a.slider.addClass(a.options.classSlider),a.options.speed&&e.isNumeric(a.options.speed)&&(a.speed=s.abs(parseInt(a.options.speed,10))),!1===a.options.pause?a.pause=!1:e.isNumeric(a.options.pause)&&(a.pause=s.abs(parseInt(a.options.pause,10))),e.isNumeric(a.options.offsetV)&&(a.offsetV=Number(a.options.offsetV)),e.isNumeric(a.options.navButtonsOpacity)&&Number(a.options.navButtonsOpacity)>=0&&1>=Number(a.options.navButtonsOpacity)&&(a.navButtonsOpacity=Number(a.options.navButtonsOpacity)),e.isNumeric(a.options.slideScaling)&&Number(a.options.slideScaling)>=100&&(a.slideScaling=Number(a.options.slideScaling)),!function e(i){var t=!1;if("undefined"!=typeof Modernizr)Modernizr.csstransforms&&(t=!0);else{var s=i.style;(void 0!==s.transform||void 0!==s.WebkitTransform||void 0!==s.msTransform)&&(t=!0)}return t}(t)&&(a.slideScaling=100),a.optionsInit.slideScaling=a.slideScaling,e.isNumeric(a.options.increment)&&0!==parseInt(a.options.increment,10)&&(a.increment=parseInt(a.options.increment,10),a.optionsInit.increment=a.increment),a.options.navButtons&&(a.addNavButtons(a.stage),a.animatedElements=a.animatedElements.add(a.navButtons),a.options.navButtonsShow||(a.navButtonsFade=!0)),a.options.navList&&a.addNavList(),a.setup(),a.slidesOnStage>1&&!a.slideClickable&&a.slider.on("click",a.options.selectorSlide,function(i){e(this).index()!==a.indexCurrent&&(i.preventDefault(),a.autoplayOff(),a.transition(e(this).index(),!1,a.autoplayOn(a.increment)))}),(!1!==a.pause||a.navButtonsFade)&&a.stage.on({mouseenter:function(){if(!1!==a.pause&&a.autoplayOff(),a.navButtonsFade){if(a.animatedElements.is(":animated")){if(e.isFunction(a.after)){var i=a.after;a.after=function(){i(),a.navButtons.fadeTo(400,a.navButtonsOpacity)}}else a.after=function(){a.navButtons.fadeTo(400,a.navButtonsOpacity)}}else a.navButtons.fadeTo(400,a.navButtonsOpacity)}},mouseleave:function(){!1!==a.pause&&a.autoplayOn(a.increment),a.navButtonsFade&&a.navButtons.fadeTo(100,0)}}),e(i).on({resize:function(){a.autoplayOff(),clearTimeout(a.resizeTimer),a.resizeTimer=setTimeout(a.resetSlider,500)}}),this},a.setup=function(){var i,t,n,d=!(e.isNumeric(a.options.slideWidth)&&parseInt(a.options.slideWidth,10)>0),l=!(e.isNumeric(a.options.stageHeight)&&parseInt(a.options.stageHeight,10)>0);return a.slides.each(function(){var i=e(this),t=i.find("img");if(a.imagesLoaded=t.prop("complete"),!a.imagesLoaded)return t.on("load",a.setup),!1;if(i.addClass(a.options.classSlide),i.children().hasClass(a.classSlideContainer)||i.wrapInner("<div class='"+a.classSlideContainer+"'></div>"),d){var s=i.outerWidth();s>a.slideWidthCurrent&&(a.slideWidthCurrent=s)}if(l){var n=i.outerHeight();n>a.stageHeight&&(a.stageHeight=n)}}),!!a.imagesLoaded&&(a.slidesLength=a.slidesLengthOrig,a.indexLast=a.slidesLength-1,e.isNumeric(a.options.slideWidth)&&parseInt(a.options.slideWidth,10)>0&&(a.slideWidthCurrent=parseInt(a.options.slideWidth,10)),e.isNumeric(a.options.stageHeight)&&parseInt(a.options.stageHeight,10)>0&&(a.stageHeight=parseInt(a.options.stageHeight,10)),a.stage.css({height:a.stageHeight}),a.indexCurrent=o(a.indexCurrent),a.stageWidth=a.stage.outerWidth(),i=(i=s.floor((a.stageWidth-a.slideWidthCurrent)/(100*a.slideWidthCurrent/a.slideScaling))+1)<1?1:i,a.slidesOnStage=i,e.isNumeric(a.options.slidesOnStage)&&parseInt(a.options.slidesOnStage,10)>=1&&parseInt(a.options.slidesOnStage,10)<=i&&(a.slidesOnStage=parseInt(a.options.slidesOnStage,10)),"center"===a.options.slidePosition&&(a.slidesOnStage=2*s.ceil(a.slidesOnStage/2)-1),(t=(a.increment+a.slidesOnStage)/2)>a.slidesOnStage?a.increment=a.slidesOnStage:t<0&&(a.increment=-a.slidesOnStage),a.slidesOnStage>1?(a.slideWidth=(a.stageWidth-a.slideWidthCurrent)/(a.slidesOnStage-1),a.slideWidthCurrent<a.slideWidth&&!a.options.slideWidth&&(a.slideWidth=a.stageWidth/a.slidesOnStage,a.slideWidthCurrent=a.slideWidth)):(a.slideWidth=a.stageWidth,a.slideWidthCurrent=a.slideWidth,a.slideScaling=100),a.scalingWidth=a.slideWidth*a.slideScaling/100,a.scalingMargin=(a.slideWidth-a.scalingWidth)/2,(n=a.slidesLengthOrig-a.slidesOnStage)>=0&&a.options.slidesContinuous?(a.slidesContinuous=!0,a.slidesToClone=a.slidesOnStage+s.abs(a.increment)-1,a.slides.slice(a.slidesLength-a.slidesToClone).clone().addClass(a.classSlideClone).removeAttr("id").prependTo(a.slider).find("*").removeAttr("id"),a.slides.slice(0,a.slidesToClone).clone().addClass(a.classSlideClone).removeAttr("id").appendTo(a.slider).find("*").removeAttr("id"),a.indexFirst=a.slidesToClone,a.indexLast=a.slidesLength+a.slidesToClone-1,a.indexCurrent=a.indexCurrent+a.slidesToClone,a.slides=a.slider.children(a.options.selectorSlide),a.slidesLength=a.slides.length):a.slidesContinuous=!1,a.slideCurrent=a.slides.eq(a.indexCurrent),a.sliderWidth=a.slideWidthCurrent+a.slideWidth*(a.slidesLength-1)+1,a.slider.css({left:r(a.indexCurrent),width:a.sliderWidth}),a.updateNavList(a.indexCurrent),a.slideSetup(),a.updateNavButtons(),a.stage.fadeTo(600,1),a.autoplayOn(a.increment),e.isFunction(a.options.slidesLoaded)&&a.options.slidesLoaded(),this)},a.transition=function(i,t,s,n){if(!a.animatedElements.is(":animated")&&i!==a.indexCurrent){var d,l,u=i,c=a.indexCurrent;if(a.slidesContinuous?(i<a.indexFirst?u=i+a.slidesLengthOrig:i>a.indexLast&&(u=i-a.slidesLengthOrig),u!==i&&(c=a.indexCurrent+a.slidesLengthOrig,u<i&&(c=a.indexCurrent-a.slidesLengthOrig))):u=o(i),l=o(u)-o(c)){if(e.isFunction(t)&&t(),e.isFunction(a.options.beforeTrans)&&a.options.beforeTrans(),d=function(){e.isFunction(s)&&s(),e.isFunction(a.options.afterTrans)&&a.options.afterTrans(),e.isFunction(a.after)&&(a.after(),a.after=!1)},a.slidesContinuous&&c!==a.indexCurrent){var g=a.slides.eq(c);100!==a.slideScaling&&(g.css({transform:"scale(1)",width:a.slideWidthCurrent,marginLeft:"0",marginRight:"0",borderSpacing:"100px"}),a.options.centerV&&g.children().first().css({marginTop:g.data("slideMarginTopCurrent")})),g.addClass(a.classCurrent).siblings().removeClass(a.classCurrent),a.slider.css("left",r(c)),100!==a.slideScaling&&(a.slideCurrent.css({transform:"scale("+100/a.slideScaling+")",width:a.scalingWidth,marginLeft:a.scalingMargin,marginRight:a.scalingMargin,borderSpacing:a.slideScaling}),a.options.centerV&&a.slideCurrent.children().first().css({marginTop:a.slideCurrent.data("slideMarginTop")})),a.indexCurrent=c,a.slideCurrent=a.slides.eq(a.indexCurrent)}a.navButtons?a.navButtons.fadeTo(100,n?a.navButtonsOpacity:0,function(){a.navButtons.fadeTo(100,0,function(){a.animateSlides(u,function(){a.stage.find(":hover").length||a.options.navButtonsShow?a.navButtons.fadeTo(400,a.navButtonsOpacity,d):d()})})}):a.animateSlides(u,d)}}return this},a.animateSlides=function(i,t){a.slideCurrent.removeClass(a.classCurrent);var s=a.slides.eq(i);return 100!==a.slideScaling&&(s.animate({marginLeft:"0",marginRight:"0",width:a.slideWidthCurrent},{duration:a.speed,queue:!1}).animate({borderSpacing:"100px"},{step:function(i){e(this).css({transform:"scale("+100/i+")"})},duration:a.speed,queue:!1}),a.slideCurrent.animate({marginLeft:a.scalingMargin,marginRight:a.scalingMargin,width:a.scalingWidth},{duration:a.speed,queue:!1}).animate({borderSpacing:a.slideScaling},{step:function(i){e(this).css({transform:"scale("+100/i+")"})},duration:a.speed,queue:!1}),a.options.centerV&&(s.children().first().animate({marginTop:s.data("slideMarginTopCurrent")},{duration:a.speed,queue:!1}),a.slideCurrent.children().first().animate({marginTop:a.slideCurrent.data("slideMarginTop")},{duration:a.speed,queue:!1}))),a.slider.animate({left:r(i)},{duration:a.speed,queue:!1,complete:function(){a.indexCurrent=i,a.slideCurrent=s,a.updateNavList(i),a.slideCurrent.addClass(a.classCurrent).siblings().removeClass(a.classCurrent),e.isFunction(t)&&t()}}),this},a.autoplayOn=function(e){return!1===a.pause||(clearInterval(a.timer),a.stage.find(":hover").length||(a.timer=setInterval(function(){a.animatedElements.is(":animated")||a.transition(a.indexCurrent+e)},a.pause))),this},a.autoplayOff=function(){return clearInterval(a.timer),this},a.addNavButtons=function(i){var t,n=e(i);return(t=e("<div class='"+a.options.classNavButtons+"'><a href='#' class='"+a.classPrev+"'>Prev</a><a href='#' class='"+a.classNext+"'>Next</a></div>")).css({opacity:a.options.navButtonsShow?a.navButtonsOpacity:0}).children("a").on("click",function(e){e.preventDefault(),this.className===a.classPrev?(a.autoplayOff(),a.transition(a.indexCurrent-s.abs(a.increment),!1,a.autoplayOn(a.increment),!0)):this.className===a.classNext&&(a.autoplayOff(),a.transition(a.indexCurrent+s.abs(a.increment),!1,a.autoplayOn(a.increment),!0))}),n.append(t),a.navButtons=n.find("."+a.options.classNavButtons),a.prev=a.navButtons.find("."+a.classPrev),a.next=a.navButtons.find("."+a.classNext),this},a.updateNavButtons=function(){a.navButtons&&a.navButtons.css({width:a.slideWidthCurrent,left:a.slideCurrent.offset().left-a.stage.offset().left}).children("a").css({height:a.stageHeight,paddingTop:(50+a.offsetV)*a.stageHeight/100})},a.addNavList=function(){var i,t="<ol class='"+a.options.classNavList+"'>";return a.slides.each(function(i){var s,n=i+1;(s=e(this).find(":header").sort(function(i,t){var s=e(i).prop("tagName"),n=e(t).prop("tagName");return parseInt(s.match(/\d+/),10)-parseInt(n.match(/\d+/),10)}).eq(0).html())?n=s:(s=e(this).find("figcaption").eq(0).html())?n=s:(s=e(this).find("img").eq(0).attr("title"))&&(n=s),t+="<li><a href='#' title='"+n+"'>"+n+"</a></li>"}),t+="</ol>",i=e(t).on("click","li",function(i){i.preventDefault(),e(this).index()!==a.indexCurrent-a.indexFirst&&(a.autoplayOff(),a.transition(e(this).index()+a.indexFirst,!1,a.autoplayOn(a.increment)))}),a.stage.prepend(i),a.navList=a.stage.children().first(),a.navListItems=a.navList.children("li"),this},a.updateNavList=function(e){a.navListItems.length&&a.navListItems.eq(e-a.indexFirst).addClass(a.classCurrent).siblings().removeClass(a.classCurrent)},a.randomize=function(){return a.slides.sort(function(){return .5-s.random()}),a.slides.detach().appendTo(a.slider),this},a.resetSlider=function(){if(a.animatedElements.is(":animated")){if(e.isFunction(a.after)){var i=a.after;a.after=function(){i(),a.resetSlider()}}else a.after=a.resetSlider}else a.autoplayOff(),a.stage.removeAttr("style"),a.slider.removeAttr("style"),a.slides.removeAttr("style"),a.slides.filter("."+a.classSlideClone).remove(),a.slides=a.slider.children(a.options.selectorSlide),a.stageHeight=0,a.slideWidthCurrent=0,a.slideScaling=a.optionsInit.slideScaling,a.indexCurrent-=a.slidesToClone,a.indexFirst=0,a.increment=a.optionsInit.increment,a.after=!1,a.setup(),a.slideSetup(),a.updateNavButtons(),a.autoplayOn(a.increment);return this},a.slideSetup=function(){a.slides.each(function(i){var t=e(this);t.css({"transform-origin":"50% "+String(50+a.offsetV)+"%",width:a.slideWidthCurrent,display:"block",opacity:"1"}),a.options.centerV&&d(t,"slideMarginTopCurrent"),t.css({width:a.scalingWidth}),100!==a.slideScaling&&t.css({marginLeft:a.scalingMargin,marginRight:a.scalingMargin,transform:"scale("+100/a.slideScaling+")",borderSpacing:a.slideScaling}),a.options.centerV&&t.children().first().css({marginTop:d(t,"slideMarginTop")}),i===a.indexCurrent&&(t.css({borderSpacing:"100px",width:a.slideWidthCurrent,marginLeft:0,marginRight:0,transform:"scale(1)"}).addClass(a.classCurrent).siblings().removeClass(a.classCurrent),a.options.centerV&&t.children().first().css({marginTop:d(t,"slideMarginTopCurrent")}))})},a.init(t,n),this};e.fn.miSlider=function(i){return this.each(function(){var t=e(this);t.data("miSlider")||t.data("miSlider",new a(this,i))})}}(jQuery,window,document,Math);