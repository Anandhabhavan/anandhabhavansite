filter_gallery="",function(e){e.fn.square1=function(a){if(!(this.length<1)){var t,s,r,i,n=this,o=e(this)[0];o.reset_position_timeout=null;var d=null;if(o.settings||(o.settings=e.extend({width:"",height:"",animation:"fade",fill_mode:"cover",scale_from:"center center",start_delay:0,slide_duration:4e3,transition_time:500,lazy_load:!1,auto_start:!0,pause_on_hover:!1,keyboard:!0,gestures:!0,theme:"dark",background:"none",prev_next_nav:"inside",dots_nav:"inside",caption:"outside",onLoad:function(){},onPlay:function(){},onStop:function(){},onChange:function(){}},a)),"play"==a){u();return}if("stop"==a){o.settings.auto_start=!1,g();return}if("next"==a){f(),o.settings.auto_start&&m();return}if("prev"==a){h(),o.settings.auto_start&&m();return}if(Math.floor(a)===a&&+a===a){w(a-1),o.settings.auto_start&&m();return}e(n).css({position:"relative",width:o.settings.width,height:o.settings.height,background:o.settings.background}),n.addClass("square1 loading"),o.settings.keyboard&&!n.attr("tabindex")&&n.attr("tabindex",0),n.wrapInner('<div class="slides_container" />'),n.find(".slides_container").children().wrap('<div class="image_wrapper" />'),e(".image_wrapper",n).each(function(){$img=e(this).find("img"),e(this).attr("scale-from",$img.attr("scale-from")).attr("scale-from-mobile",$img.attr("scale-from-mobile")).attr("space",$img.attr("space"))}),c(e(".image_wrapper:first-child",n)),e(".image_wrapper:first",n).addClass("current_slide"),e(".image_wrapper:not(.current_slide)",n).hide(),e(n).append('<div class="square1_caption"></div>'),e(n).find(".image_wrapper").length>1&&e(n).append('<div class="square1_controls"><span class="square1_prev_image">Previous</span><span class="square1_next_image">Next</span><div class="square1_dots"></div></div>'),e(n).append('<div class="square1_spinner"></div>');var l=0;if(e(".image_wrapper",n).each(function(){e(".square1_dots",n).append('<span data-image-num="'+l+'"></span>'),l++}),e(".square1_dots span:first-child",n).addClass("current"),"slide"==o.settings.animation){n.addClass("slide_animation"),e(".image_wrapper, .wrap_placeholder",n).show();var l=0;e(".image_wrapper, .wrap_placeholder",n).each(function(){e(this).css({left:100*l+"%",transitionDuration:o.settings.transition_time+"ms"}),l++}),e(".image_wrapper",n).last().clone().removeClass("image_wrapper").addClass("wrap_placeholder").css({left:"-100%"}).appendTo(e(".slides_container",n)),e(".image_wrapper",n).first().clone().removeClass("image_wrapper").addClass("wrap_placeholder").css({left:100*e(".image_wrapper",n).length+"%"}).appendTo(e(".slides_container",n))}e(n).addClass("fill_mode-"+o.settings.fill_mode),e(n).addClass("theme-"+o.settings.theme),e(n).addClass("prev_next_nav-"+o.settings.prev_next_nav),e(n).addClass("dots_nav-"+o.settings.dots_nav),e(n).addClass("caption-"+o.settings.caption),e(".square1_prev_image",n).click(function(){h()}),e(".square1_next_image",n).click(function(){f()}),e(".square1_dots span",n).click(function(){w(e(this).data("image-num"))}),e(n).keydown(function(e){if(37==e.keyCode||38==e.keyCode)h();else{if(39!=e.keyCode&&40!=e.keyCode)return;f()}e.preventDefault(),e.stopPropagation()}),o.settings.gestures&&(e(n).on("touchstart",function(e){t=e.touches[0].screenX,s=e.touches[0].screenY,r=new Date}),e(n).on("touchmove",function(e){i=e}),e(n).on("touchend",function(e){deltaX=i.touches[0].screenX-t,deltaY=i.touches[0].screenY-s,touchDuration=new Date-r,!(2>Math.abs(deltaX/deltaY)||30>Math.abs(deltaX))&&(touchDuration>800||(deltaX>0?h():f()))})),e(n).on("mouseenter",function(){o.settings.pause_on_hover&&g()}),e(n).on("mouseleave",function(){o.settings.pause_on_hover&&o.settings.auto_start&&u()}),o.settings.auto_start&&setTimeout(u,o.settings.start_delay),v(),show_trace=0;var p=0;return n}function c(a){if(!(e(n).find(".image_wrapper:not(.image_loaded), .wrap_placeholder:not(.image_loaded)").length<1)){if(($img=a.find("img")).attr("data-src")&&$img.attr("src",$img.attr("data-src")).attr("srcset",$img.attr("data-srcset")),clearTimeout(d),$img.prop("currentSrc"))var t=$img.prop("currentSrc");else var t=$img.attr("src");if($img.attr("srcset"))for(l=0,srcset_array=$img.attr("srcset").split(",").reverse();l<srcset_array.length;l++){var s=srcset_array[l].trim().split(" ");e(window).width()<parseInt(s[1])&&(t=s[0])}a.css("background-image","url("+t+")"),(img=new Image).onload=function(){1>n.height()&&$img.height()&&n.height($img.height()/$img.width()*n.width()),e(this).css("display",""),o.settings.lazy_load?do_nothing=1:a.next().hasClass("image_wrapper")?d=setTimeout(function(){c(a.next())},1e3):a.closest(".square1").find(".image_wrapper").length&&(d=setTimeout(function(){c(a.closest(".square1").find(".image_wrapper").first())},1e3)),a.addClass("image_loaded"),a.closest(".square1").find(".image_wrapper:not(.image_loaded)").length<1&&(n.attr("images_loaded","").removeClass("loading"),o.settings.onLoad())},img.src=t,img.complete&&img.onload(),e('.wrap_placeholder[background-image="'+t+'"]',n).css("background-image","url("+t+")")}}function u(){o.square1_interval=1,m(),$(),o.settings.onPlay()}function g(){clearInterval(o.square1_interval),o.square1_interval=null,o.settings.onStop(),show_trace=1}function m(){o.square1_interval&&(clearInterval(o.square1_interval),clearInterval(o.square1_interval),o.square1_interval=setInterval(f,o.settings.slide_duration+o.settings.transition_time))}function f(){e(".current_slide",n).index();var a=e(".current_slide",n).next(".image_wrapper").index();filter_gallery&&((a=e(".current_slide",n).nextAll('.image_wrapper[space*="'+filter_gallery+'"]').index())<0&&e(".image_wrapper",n).first().is('.image_wrapper[space*="'+filter_gallery+'"]')&&(a=e(".image_wrapper",n).first().index()),a<0&&(a=e(".image_wrapper",n).first().nextAll('.image_wrapper[space*="'+filter_gallery+'"]').index())),a<0?(p=1,w(0)):w(a)}function h(){e(".current_slide",n).index();var a=e(".current_slide",n).prev(".image_wrapper").index();filter_gallery&&((a=e(".current_slide",n).prevAll('.image_wrapper[space*="'+filter_gallery+'"]').index())<0&&e(".image_wrapper",n).last().is('.image_wrapper[space*="'+filter_gallery+'"]')&&(a=e(".image_wrapper",n).last().index()),a<0&&(a=e(".image_wrapper",n).first().prevAll('.image_wrapper[space*="'+filter_gallery+'"]').index())),a<0?(p=1,w(e(".image_wrapper",n).last().index())):w(a)}function w(a){if(!e(".image_wrapper",n).eq(a).hasClass("image_loaded")){c(e(".image_wrapper",n).eq(a)),setTimeout(function(){w(a)},100);return}e(".image_wrapper",n).finish().clearQueue(),"slide"==o.settings.animation?(reset_slide_position=!1,target_slide=a,last_slide=e(".image_wrapper",n).last().index(),clearTimeout(o.reset_position_timeout),e(".image_wrapper, .wrap_placeholder",n).removeClass("no_transition"),p&&0==a?(reset_slide_position="first",target_slide=last_slide+1):p&&a==last_slide&&(e(".wrap_placeholder",n).first().hasClass("image_loaded")||c(e(".wrap_placeholder",n).first()),reset_slide_position="last",target_slide=-1),p=0,e(".current_slide",n).removeClass("current_slide"),e(".image_wrapper",n).eq(a).addClass("current_slide"),translate_target=-100*target_slide,e(".image_wrapper, .wrap_placeholder",n).css("transform","translateX("+translate_target+"%)"),"first"==reset_slide_position&&(o.reset_position_timeout=setTimeout(function(){e(".image_wrapper, .wrap_placeholder",n).addClass("no_transition"),e(".image_wrapper, .wrap_placeholder",n).css("transform","translateX(0%)")},o.settings.transition_time)),"last"==reset_slide_position&&(o.reset_position_timeout=setTimeout(function(){e(".image_wrapper, .wrap_placeholder",n).addClass("no_transition"),e(".image_wrapper, .wrap_placeholder",n).css("transform","translateX(-"+100*last_slide+"%)")},o.settings.transition_time))):"cover"==o.settings.fill_mode?a>e(".current_slide",n).index()?(e(".current_slide",n).removeClass("current_slide"),e(".image_wrapper",n).eq(a).addClass("current_slide").fadeIn(o.settings.transition_time,function(){e(".image_wrapper:not(.current_slide)",n).hide()})):a<e(".current_slide",n).index()&&(e(".current_slide",n).removeClass("current_slide").fadeOut(o.settings.transition_time),e(".image_wrapper",n).eq(a).addClass("current_slide").show()):(e(".current_slide",n).removeClass("current_slide").fadeOut(o.settings.transition_time),e(".image_wrapper",n).eq(a).addClass("current_slide").fadeIn(o.settings.transition_time)),m(),v(),$(),o.settings.onChange()}function v(){if("none"==o.settings.caption){e(".square1_caption",n).remove();return}e(".square1_caption",n).fadeOut(o.settings.transition_time,function(){setTimeout(function(){e(".square1_caption",n).html(e(".current_slide img",n).attr("alt")).fadeIn(o.settings.transition_time-200)},10)})}function $(){if("none"==o.settings.dots_nav){e(".square1_dots",n).remove();return}e(".square1_dots span",n).removeClass("current"),e('.square1_dots span[data-image-num="'+e(".current_slide",n).index()+'"]',n).addClass("current")}}}(jQuery);