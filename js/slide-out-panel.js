"use strict";function _slicedToArray(t,n){return _arrayWithHoles(t)||_iterableToArrayLimit(t,n)||_nonIterableRest()}function _nonIterableRest(){throw TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,n){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var i=[],o=!0,e=!1,a=void 0;try{for(var s,r=t[Symbol.iterator]();!(o=(s=r.next()).done)&&(i.push(s.value),!n||i.length!==n);o=!0);}catch(c){e=!0,a=c}finally{try{o||null==r.return||r.return()}finally{if(e)throw a}}return i}}function _arrayWithHoles(t){if(Array.isArray(t))return t}!function(t,n){var i,o="SlideOutPanel",e={bodyPush:!1,breakpoint:"768px",closeBtn:"&#10005;",closeBtnSize:"",enableEscapeKey:!1,offsetTop:0,screenClose:!0,screenOpacity:"0.5",screenZindex:"9998",showScreen:!0,slideFrom:"right",transition:"ease",transitionDuration:"0.35s",width:"350px",afterClosed:function t(){},afterOpen:function t(){},beforeClosed:function t(){},beforeOpen:function t(){},rendered:function t(){}},a=!1;t.fn[o]=function(s){var r,c,l,d,u,h=this;if(void 0===t(this).attr("id"))return console.error("".concat(o,": Element not found. Element options:"),s),!1;function f(n,a){if(r=t("#".concat(n.id)),c=t("#".concat(n.id," header")),l=t("#".concat(n.id," section")),d=t("#".concat(n.id," footer")),r.hasClass("slide-out-panel")||r.addClass("slide-out-panel"),void 0===t(l).html())return C(n.id,"#".concat(n.id," <section> missing.")),!1;(i=i||{})[n.id]=n,i[n.id]=t.extend({},e,a);var s=i[n.id].transitionDuration;return s=s.replace("s",""),i[n.id].transitionDuration=parseFloat(s),D(),this._defaults=e,this._name=o,p(n.id,i[n.id]),!1}var p=function n(i,o){return $(i,o),void 0!==t(c).html()&&m(i,o),v(i,o),_(),o.showScreen&&b(i,o),o.rendered(),!1},$=function n(i,o){var e="left"===o.slideFrom||"right"===o.slideFrom;if(r.addClass("slide-out-panel-container ".concat(o.slideFrom)).css({display:"block",height:0===o.offsetTop?"initial":"calc(100vh - ".concat(o.offsetTop,")"),top:"bottom"===o.slideFrom?"initial":o.offsetTop,transitionTimingFunction:"".concat(o.transition),transitionDuration:"".concat(o.transitionDuration,"s"),width:o.width}).attr("data-id",i),o.bodyPush&&e&&t("html").css({transition:"width ".concat(o.transitionDuration,"s ").concat(o.transition)}),e){var a=o.width.match(/[a-zA-Z]+/),s=o.width.match(/(\d+)/);s=parseInt(s)+10,r.addClass("slide-out-panel-container ".concat(o.slideFrom)).css({left:"left"!==o.slideFrom?"initial":"-".concat(s).concat(a),right:"right"!==o.slideFrom?"initial":"-".concat(s).concat(a)})}else r.addClass("slide-out-panel-container ".concat(o.slideFrom)).css({bottom:"bottom"!==o.slideFrom?"initial":"-100%",top:"top"!==o.slideFrom?"initial":"-100%",width:"100vw"})},m=function t(n,i){void 0!==c.html()&&c.addClass("slide-out-header").append(y(n,i))},v=function t(n,i){l.addClass("slide-out-content"),void 0===c.html()&&l.append(y(n,i))},_=function t(){d.addClass("slide-out-footer")},y=function t(n,i){var o="";return o+='<span class="close-slide-out-panel" data-id="'.concat(n,'" ').concat(i.closeBtnSize?'style="font-size: '.concat(i.closeBtnSize,'; display: block;"'):"",">"),o+=i.closeBtn,o+="</span>"},b=function n(o,e){var a="";a+="<div ",a+='id="slide-out-panel-screen-'.concat(o,'"'),a+='class="slide-out-panel-screen" ',a+='data-id="'.concat(o,'" '),a+='style="',a+="background-color: rgba(0, 0, 0, ".concat(e.screenOpacity,");"),a+="transition-timing-function: ".concat(e.transition,";"),a+="transition-duration: ".concat(e.transitionDuration,"s;"),a+="z-index: -".concat(e.screenZindex,";"),a+='">',a+="</div>",t("body").append(a),e.screenClose&&document.getElementById("slide-out-panel-screen-".concat(o)).addEventListener("touchend",function(n){n.preventDefault();var o=t(h).attr("data-id");return F(o,i[o],h),!1},!1)},g=function n(i,o,e){var a,s,r="left"===o.slideFrom||"right"===o.slideFrom;if("open"===e)a="0";else{var c=o.width.match(/[a-zA-Z]+/),l=o.width.match(/(\d+)/);l=parseInt(l)+10,a=r?"-".concat(l).concat(c):"-100%"}return s=r?{left:"right"===o.slideFrom?"initial":a,right:"left"===o.slideFrom?"initial":a}:{top:"bottom"===o.slideFrom?"initial":a,bottom:"top"===o.slideFrom?"initial":a},"open"===e?t("#".concat(i)).addClass("open"):t("#".concat(i)).removeClass("open"),t("#".concat(i)).css(s),!1},F=function n(){var o=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return void 0===e?(C(o,"#".concat(o," doesn't exist.")),!1):(!t(a).hasClass("slide-out-panel-screen")||!!e.screenClose)&&(o||e||a?(e.beforeClosed(),g(o,e,"close"),t("#slide-out-panel-screen-".concat(o)).removeClass("open").css({opacity:0,transitionDuration:"".concat(e.transitionDuration,"s")}),e.bodyPush&&("left"===e.slideFrom||"right"===e.slideFrom)&&t("html").css({width:"100%"}),setTimeout(function(){t("#slide-out-panel-screen-".concat(o)).css({zIndex:"-9999"}),e.bodyPush&&("left"===e.slideFrom||"right"===e.slideFrom)&&t("html").removeClass("slide-out-".concat(e.slideFrom)).css("position","initial"),e.afterClosed()},1e3*e.transitionDuration),!1):(Object.entries(i).forEach(function(t){var o=_slicedToArray(t,2),e=o[0];o[1],i[e].enableEscapeKey&&n(e,i[e])}),!1))},C=function n(i){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t("#".concat(i,', .slide-out-panel-screen[data-id="').concat(i,'"]')).remove(),e&&console.error("".concat(o,": ").concat(e)),!1},w=function n(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=arguments.length>1?arguments[1]:void 0;return void 0===o?(C(i,"#".concat(i," doesn't exist.")),!1):(o.bodyPush&&("left"===o.slideFrom||"right"===o.slideFrom)&&t("html").addClass("slide-out-".concat(o.slideFrom)),o.beforeOpen(),g(i,o,"open"),t("#slide-out-panel-screen-".concat(i)).addClass("open").css({opacity:1,transitionDuration:"".concat(o.transitionDuration,"s"),zIndex:"".concat(o.screenZindex)}),o.bodyPush&&("left"===o.slideFrom||"right"===o.slideFrom)&&t("html").css({position:"absolute",width:"calc(".concat(t("body").width(),"px - ").concat(o.width)}),setTimeout(function(){o.afterOpen()},1e3*o.transitionDuration),!1)},x=function n(){var o=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t("#".concat(o)).hasClass("open")?F(o,i[o]):w(o,i[o]),!1},D=function o(){for(var e=t(n).width(),a=0;a<Object.values(i).length;a+=1){var s=Object.values(i)[a];if(e<s.breakpoint.match(/(\d+)/)[0]&&s.bodyPush){t("html").addClass("slide-out-panel-static");break}t("html").removeClass("slide-out-panel-static"),s.bodyPush&&t(".slide-out-panel-container.".concat(s.slideFrom)).hasClass("open")&&t("html").css({width:"calc(".concat(e,"px - ").concat(s.width)})}};return t(n).on("resize",function(t){clearTimeout(u),u=setTimeout(function(){D()},250)}),this.close=function(){var n=t(this).attr("id");F(n,i[n])},a||(t("body").on("click",".close-slide-out-panel, .slide-out-panel-screen",function(){var n=t(this).attr("data-id");return F(n,i[n],this),!1}),a=!0),t("body").on("keyup",function(t){27===t.keyCode&&F()}),this.destroy=function(){var n=t(h).attr("id");C(n)},this.open=function(){var n=t(this).attr("id");t("#".concat(n)).hasClass("open")||w(n,i[n])},this.toggle=function(){var n=t(this).attr("id");x(n,i[n])},this.each(function(){t.data(this,"plugin-".concat(o,"-").concat(t(this).attr("id")),new f(this,s))})}}(jQuery,window);